FROM node:22-alpine

# Instalujemy zaleÅ¼noÅ›ci systemowe
# libc6-compat jest kluczowe dla Prisma Client na Alpine!
# mongodb-tools instalujemy z repozytorium Alpine (duÅ¼o bezpieczniej i proÅ›ciej)
RUN apk add --no-cache \
    libc6-compat \
    openssl \
    wget \
    curl \
    tar \
    tzdata \
    mongodb-tools

# Dodajemy fontawesome (bez zmian)
COPY fontawesome.tar /usr/local/share/

# Weryfikacja (opcjonalnie, by sprawdziÄ‡ czy python nie wszedÅ‚ "tylnymi drzwiami")
RUN if command -v python3 &> /dev/null; then echo "Python detected! ðŸš¨"; else echo "No Python detected âœ…"; fi